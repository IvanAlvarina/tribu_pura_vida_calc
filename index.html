<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jose Bernard Investor Fix & Flip Calculator</title>
    <style>
        @import url('https://www.fontspace.com/a-big-deal-font-f51277');
        @import url('https://www.fontspace.com/agoestoesan-font-f14421');
        @import url('https://www.fontspace.com/aaargh-font-f11328');
        @import url('https://www.fontspace.com/amccd-font-f25168');

        body {
            font-family: 'Aaargh Normal', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #FFFFFF;
            color: #333;
        }
        .container {
            max-width: 900px;
            margin: 20px auto;
            padding: 20px;
            background: #FFF;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .header {
            text-align: center;
            font-family: 'A BIG DEAL', sans-serif;
            color: #10ABFF;
        }
        .language-selection {
            text-align: center;
            margin: 20px 0;
        }
        .language-button {
            padding: 10px 20px;
            font-size: 18px;
            margin: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            background-color: #88D593;
            color: white;
        }
        .language-button:hover {
            background-color: #6BAA73;
        }
        form {
            display: none;
            flex-direction: column;
            gap: 15px;
        }
        label {
            font-family: 'Agoestoesan Normal', sans-serif;
            font-weight: bold;
        }
        input {
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        button {
            padding: 15px;
            font-size: 18px;
            font-family: 'AMCCD', sans-serif;
            background-color: #FFFF26;
            color: black;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #F0E926;
        }
        .result, .scenarios {
            margin-top: 20px;
            padding: 15px;
            background-color: #F9F9F9;
            border-left: 5px solid #084B6F;
            border-radius: 5px;
        }
        .disclaimer {
            margin-top: 20px;
            font-size: 14px;
            color: #888;
            text-align: center;
        }

        .form-container {
            display: none; /* Initially hidden */
            flex-direction: row; /* Form and image side by side */
            align-items: flex-start; /* Align items at the top */
            gap: 20px; /* Space between form and image */
        }

        .form-content {
            flex: 1; /* Form takes up available space */
        }

        #image-container {
            display: none; /* Initially hidden */
            flex-shrink: 0; /* Prevents image from shrinking */
            width: 200px; /* Set width */
        }

        #image-container img {
            width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="header">Jose Bernard Investor Fix & Flip Calculator</h1>
        <div class="language-selection">
            <p>Select your language / Seleccione su idioma:</p>
            <button class="language-button" onclick="setLanguage('en')">English</button>
            <button class="language-button" onclick="setLanguage('es')">Español</button>
        </div>
        <div class="form-wrapper">
            <div class="form-container">
                <div class="form-content">
                    <form id="calculator-form">
                        <div>
                            <label id="label-home-price" for="home-price">Home Price ($):</label>
                            <input type="number" id="home-price" placeholder="E.g., 150000" required>
                        </div>
                        <div>
                            <label id="label-down-payment-percentage" for="down-payment-percentage">Down Payment Percentage (%):</label>
                            <input type="number" id="down-payment-percentage" placeholder="E.g., 20" required>
                        </div>
                        <div>
                            <label id="label-loan-includes-renovation" for="loan-includes-renovation">Does the Loan Include Renovation Costs?:</label>
                            <select id="loan-includes-renovation" required>
                                <option value="yes">Yes</option>
                                <option value="no">No</option>
                            </select>
                        </div>
                        <div>
                            <label id="label-loan-interest" for="loan-interest">Interest Rate (%):</label>
                            <input type="number" id="loan-interest" placeholder="E.g., 5" required>
                        </div>
                        <div>
                            <label id="label-holding-period" for="holding-period">Holding Period (Months):</label>
                            <input type="number" id="holding-period" placeholder="E.g., 6" required>
                        </div>
                        <div>
                            <label id="label-renovation-cost" for="renovation-cost">Renovation Cost ($):</label>
                            <input type="number" id="renovation-cost" placeholder="E.g., 50000" required>
                        </div>
                        <div>
                            <label id="label-purchase-closing-cost" for="purchase-closing-cost">Purchase Closing Cost Percentage (%):</label>
                            <input type="number" id="purchase-closing-cost" placeholder="E.g., 3" required>
                        </div>
                        <div>
                            <label id="label-property-taxes" for="property-taxes">Yearly Property Taxes ($):</label>
                            <input type="number" id="property-taxes" placeholder="E.g., 3000" required>
                        </div>
                        <div>
                            <label id="label-insurance" for="insurance">Yearly Insurance ($):</label>
                            <input type="number" id="insurance" placeholder="E.g., 1200" required>
                        </div>
                        <div>
                            <label id="label-utilities" for="utilities">Estimated Monthly Utilities ($):</label>
                            <input type="number" id="utilities" placeholder="E.g., 200" required>
                        </div>
                        <div>
                            <label id="label-after-repair-value" for="after-repair-value">After Repair Value (ARV) ($):</label>
                            <input type="number" id="after-repair-value" placeholder="E.g., 250000" required>
                        </div>
                        <div>
                            <label id="label-selling-cost" for="selling-cost">Selling Cost (%):</label>
                            <input type="number" id="selling-cost" placeholder="E.g., 6" required>
                        </div>
                        <button type="button" onclick="calculate()">Calculate</button>
                    </form>
                </div>

                <div id="image-container">
                    <img src="tribu_logo.jpg" alt="Logo" style="width:100%; height:auto;">
                </div>
            </div>
        </div>
        <div id="result" class="result" style="display: none;"></div>
        <div id="scenarios" class="scenarios" style="display: none;"></div>
        <p class="disclaimer">Disclaimer: This calculator provides estimates only. Perform additional analysis and due diligence before making any investment decisions.</p>
    </div>

    <div id="image-containers" style="display: flex; justify-content: center; align-items: center; width: 100%;">
        <img src="tribu_logo.jpg" alt="Logo" style="width:30%; height:auto;">
    </div>
    

    

    <script>
        let language = 'en';

        function setLanguage(selectedLanguage) {
            language = selectedLanguage;
            document.querySelector('.language-selection').style.display = 'none';
            document.getElementById('calculator-form').style.display = 'flex';

            document.querySelector('.form-container').style.display = 'flex';

            // Show image when language is selected
            document.getElementById('image-container').style.display = 'block';
            document.getElementById('image-containers').style.display = 'none';


            if (language === 'es') {
                document.getElementById('label-home-price').innerText = 'Precio de la Casa ($):';
                document.getElementById('label-down-payment-percentage').innerText = 'Porcentaje de Pago Inicial (%):';
                document.getElementById('label-loan-includes-renovation').innerText = '¿El préstamo incluye costos de renovación?';
                document.getElementById('label-loan-interest').innerText = 'Tasa de Interés (%):';
                document.getElementById('label-holding-period').innerText = 'Período de Retención (Meses):';
                document.getElementById('label-renovation-cost').innerText = 'Costo de Renovación ($):';
                document.getElementById('label-purchase-closing-cost').innerText = 'Porcentaje de Costos de Cierre de Compra (%):';
                document.getElementById('label-property-taxes').innerText = 'Impuestos Anuales de Propiedad ($):';
                document.getElementById('label-insurance').innerText = 'Seguro Anual ($):';
                document.getElementById('label-utilities').innerText = 'Servicios Públicos Mensuales Estimados ($):';
                document.getElementById('label-after-repair-value').innerText = 'Valor Después de Reparar (ARV) ($):';
                document.getElementById('label-selling-cost').innerText = 'Costo de Venta (%):';
            }
        }

        function calculate() {

            // Check if any required field is empty
            const requiredFields = [
                'home-price', 'down-payment-percentage', 'loan-includes-renovation', 
                'loan-interest', 'holding-period', 'renovation-cost', 
                'purchase-closing-cost', 'property-taxes', 'insurance', 
                'utilities', 'after-repair-value', 'selling-cost'
            ];

            for (let fieldId of requiredFields) {
                const field = document.getElementById(fieldId);
                if (!field.value || (field.type === 'number' && isNaN(field.value))) {
                    alert('Please fill in all the required fields.');
                    return;
                }
            }

            var total_loan_amount;
            const homePrice = parseFloat(document.getElementById('home-price').value);
            const downPaymentPercentage = parseFloat(document.getElementById('down-payment-percentage').value) / 100;
            const loanIncludesRenovation = document.getElementById('loan-includes-renovation').value === 'yes';
            const loanIncludesRenovation_v2 = document.getElementById('loan-includes-renovation');
            const renovationCost = parseFloat(document.getElementById('renovation-cost').value);
            const loanInterestRate = parseFloat(document.getElementById('loan-interest').value);
            const holdingPeriod = parseFloat(document.getElementById('holding-period').value);
            const purchaseClosingCostPercentage = parseFloat(document.getElementById('purchase-closing-cost').value) / 100;
            const propertyTaxes = parseFloat(document.getElementById('property-taxes').value) / 12;
            const insurance = parseFloat(document.getElementById('insurance').value) / 12;
            const utilities = parseFloat(document.getElementById('utilities').value);
            const afterRepairValue = parseFloat(document.getElementById('after-repair-value').value);
            const sellingCostPercent = parseFloat(document.getElementById('selling-cost').value);

            if(loanIncludesRenovation_v2.value === 'yes') {
                    // When renovation is included, the loan amount is the sum of home price and renovation cost
                    total_loan_amount=(homePrice+renovationCost)*(1 - downPaymentPercentage);
                } else {
                    // If renovation is not included, the loan amount is just the home price
                    total_loan_amount = homePrice - (homePrice * downPaymentPercentage);
            }
            const monthlyInterest_v2 = (total_loan_amount * (loanInterestRate / 100)) / 12;

            

            const loanAmount = loanIncludesRenovation ? (homePrice + renovationCost) : homePrice;
            const downPayment = loanAmount * downPaymentPercentage;
            const monthlyInterest = (loanAmount * (loanInterestRate / 100)) / 12;

            const totalMonthlyCost = monthlyInterest_v2 + propertyTaxes + insurance + utilities ;

            const holding_period_months = totalMonthlyCost * totalMonthlyCost;

            const totalHoldingCost = totalMonthlyCost * holdingPeriod;
            const purchaseClosingCost = loanIncludesRenovation ? (loanAmount * purchaseClosingCostPercentage) : (homePrice * purchaseClosingCostPercentage);

            const total_selling_cost = afterRepairValue * (sellingCostPercent / 100);

           const total_loan_amount_v2 =(homePrice+renovationCost)*(1 - downPaymentPercentage);
           

        //    const total_cash_needed_v2 = total_loan_amount_v2 + purchaseClosingCost + holding_period_months + total_selling_cost;

            const sumup = (homePrice + renovationCost) / downPaymentPercentage;

            // const total_cash_needed_v2 = sumup + purchaseClosingCost + totalHoldingCost + total_selling_cost;
            const total_cash_needed_v2 = downPayment + totalHoldingCost + purchaseClosingCost + total_selling_cost;

            const totalCashNeeded = loanIncludesRenovation
                ? (downPayment + purchaseClosingCost + (propertyTaxes + insurance) * holdingPeriod)
                : (homePrice + purchaseClosingCost + (propertyTaxes + insurance) * holdingPeriod);

            const baseSellingCost = (afterRepairValue * sellingCostPercent) / 100;
            // const baseProfit = afterRepairValue - (homePrice + totalHoldingCost + baseSellingCost);

            const baseProfit = afterRepairValue - (homePrice + renovationCost) - totalHoldingCost - purchaseClosingCost - total_selling_cost;
            // const baseROI = (baseProfit / (homePrice + totalHoldingCost)) * 100;
            // const baseROI = afterRepairValue /  total_cash_needed_v2;
            const baseROI = (baseProfit /  total_cash_needed_v2) * 100;

            // <p>Monthly Loan Interest Only: $${monthlyInterest.toFixed(2)}</p>
            // <p>Total Cash Needed: $${totalCashNeeded.toFixed(2)}</p>`;

            document.getElementById('result').style.display = 'block';
            document.getElementById('result').innerHTML = `<h3>Base Results:</h3>
                <p>Down Payment: $${downPayment.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</p>
                <p>Total Loan Amount: $${total_loan_amount.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</p>
                <p>Monthly Loan Interest Only: $${monthlyInterest_v2.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</p>
                <p>Total Monthly Holding Cost: $${totalMonthlyCost.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</p>
                <p>Total Project Holding Cost: $${totalHoldingCost.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</p>
                <p>Total Purchasing Closing Cost: $${purchaseClosingCost.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</p>
                <p>Total Selling Cost: $${total_selling_cost.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</p>
                <p>Total Cash Needed: $${total_cash_needed_v2.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</p>`;

            // Scenario 1: Base Scenario
            const scenario1SellingCost = baseSellingCost;
            const scenario1Profit = baseProfit;
            const scenario1ROI = baseROI;

            // Scenario 2: +10% Renovation Cost, -10% ARV, +2 Months
            const scenario2ARV = afterRepairValue * 0.9;
            const scenario2RenovationCost = renovationCost * 1.1;
            const scenario2HoldingPeriod = holdingPeriod + 2;
            const scenario2TotalMonthlyCost = monthlyInterest + propertyTaxes + insurance + utilities;
            const scenario2TotalHoldingCost = scenario2TotalMonthlyCost * scenario2HoldingPeriod;
            const scenario2SellingCost = (scenario2ARV * sellingCostPercent) / 100;

            scenario2RenovationCost_v2 = renovationCost * 0.1;
            scenario2ARV_v2  = afterRepairValue * 0.1;
            scenarioProjectCost_v2 = totalMonthlyCost * 2;

            scenario_arv_new = scenario2ARV_v2 * (sellingCostPercent /  100);

            

            // const baseProfit = afterRepairValue - (homePrice + renovationCost) - totalHoldingCost - purchaseClosingCost - total_selling_cost;

            // const scenario2Profit = scenario2ARV - (homePrice + scenario2TotalHoldingCost + scenario2SellingCost);
            // const scenario2Profit = scenario2ARV - (homePrice + scenario2RenovationCost) - scenario2HoldingPeriod - purchaseClosingCost - total_selling_cost;
            const scenario2Profit_before = scenario2RenovationCost_v2 +  scenario2ARV_v2 +  scenarioProjectCost_v2;

            const scenario2Profit_b = scenario1Profit - scenario2Profit_before;

            const scenario2Profit = scenario2Profit_b + scenario_arv_new;
            // const scenario2Profit = scenario2Profit_before;
            // const scenario2ROI = (scenario2Profit / (homePrice + scenario2TotalHoldingCost)) * 100;
            // const baseROI = afterRepairValue /  total_cash_needed_v2;
            // (baseProfit /  total_cash_needed_v2) * 100;
            // const scenario2ROI = scenario2ARV / total_cash_needed_v2;
            // const scenario2ROI = (scenario2Profit /  total_cash_needed_v2) * 100;
            total_cash_needed_v2_roi = total_cash_needed_v2 +  scenario2RenovationCost_v2 +  scenarioProjectCost_v2;
            const scenario2ROI = (scenario2Profit / total_cash_needed_v2_roi) * 100;
            
// ----------------------------------------------------------------------------------------------------------------------
            // Scenario 3: +20% Renovation Cost, -20% ARV, +4 Months
            const scenario3ARV = afterRepairValue * 0.8;
            const scenario3RenovationCost = renovationCost * 1.2;
            const scenario3HoldingPeriod = holdingPeriod + 4;
            const scenario3TotalMonthlyCost = monthlyInterest + propertyTaxes + insurance + utilities;
            const scenario3TotalHoldingCost = scenario3TotalMonthlyCost * scenario3HoldingPeriod;
            const scenario3SellingCost = (scenario3ARV * sellingCostPercent) / 100;

            scenario2RenovationCost_v3 = renovationCost * 0.2;
            scenario2ARV_v3  = afterRepairValue * 0.2;
            scenarioProjectCost_v3 = totalMonthlyCost * 4;

            scenario_arv_new_v3 = scenario2ARV_v3 * (sellingCostPercent /  100);

            const scenario3Profit_before = scenario2RenovationCost_v3 +  scenario2ARV_v3 +  scenarioProjectCost_v3;

            const scenario3Profit_b =  scenario3Profit_before - scenario1Profit;

            const scenario3Profit  =  scenario3Profit_b + scenario_arv_new_v3;

            // const scenario3Profit = scenario3ARV - (homePrice + scenario3TotalHoldingCost + scenario3SellingCost);
            // const scenario2Profit = scenario2ARV - (homePrice + scenario2RenovationCost) - scenario2HoldingPeriod - purchaseClosingCost - total_selling_cost;

            // const scenario3Profit = scenario2ARV - (homePrice + scenario3RenovationCost) - scenario3HoldingPeriod -  purchaseClosingCost - total_selling_cost;

           

            // const scenario2ROI = scenario2ARV / total_cash_needed_v2;
            // const scenario3ROI = (scenario3Profit / (homePrice + scenario3TotalHoldingCost)) * 100;
            // const scenario3ROI = scenario3ARV / total_cash_needed_v2;
            // const scenario2ROI = (scenario2Profit /  total_cash_needed_v2) * 100;
            total_cash_needed_v3_roi = total_cash_needed_v2 +  scenario2RenovationCost_v3 +  scenarioProjectCost_v3;
            // const scenario2ROI = (scenario2Profit / total_cash_needed_v2_roi) * 100;
            const scenario3ROI = (scenario3Profit /  total_cash_needed_v3_roi) * 100;

            // <p>Total Holding Cost: $${totalHoldingCost.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</p>
            // <p>Total Holding Cost: $${scenario2TotalHoldingCost.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</p>
            // <p>Total Holding Cost: $${scenario3TotalHoldingCost.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</p>

            document.getElementById('scenarios').style.display = 'block';
            document.getElementById('scenarios').innerHTML = `<h3>Scenarios:</h3>
                <p><strong>Scenario 1 (Base Scenario):</strong></p>
                <p>Profit: $${scenario1Profit.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</p>
                <p>ROI: ${scenario1ROI.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}%</p>

                <p><strong>Scenario 2 (Renovation +10%, ARV -10%, Holding +2 months):</strong></p>
                <p>Profit: $${scenario2Profit.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</p>
                <p>ROI: ${scenario2ROI.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}%</p>

                <p><strong>Scenario 3 (Renovation +20%, ARV -20%, Holding +4 months):</strong></p>
                <p>Profit: $${scenario3Profit.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</p>
                <p>ROI: ${scenario3ROI.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}%</p>`;
        }
    </script>
</body>
</html>
